# ì±…ì„ ì—°ì‡„ íŒ¨í„´

- ê³µí†µì ì„ ê°€ì§„ ë‹¤ìŒì˜ ë””ìì¸ íŒ¨í„´ë“¤
    - ë””ìì¸ íŒ¨í„´
        - í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
        - ì „ëµ íŒ¨í„´
        - ì±…ì„ ì—°ì‡„ íŒ¨í„´
    - ê³µí†µ ì ì¸ ëª©ì ì„ ê°€ì§
        - â€˜**ì¬ì‚¬ìš©ì„±**â€™ ê³¼ â€˜**ê¸°ëŠ¥ì˜ í™•ì¥â€™**
    - ëŒ€ë‹¤ìˆ˜ì˜ í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” ìœ„ íŒ¨í„´ë“¤ì„ ì‚¬ìš©
        - í”„ë ˆì„ì›Œí¬ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³ ë„, í”„ë ˆì„ì›Œí¬ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ëŒ€ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ.
        - ì´ë²ˆì— ì‚´í´ë³¼ ì±…ì„ ì—°ì‡„ íŒ¨í„´ì´ ì‚¬ìš©ë˜ëŠ” ê³³ë“¤
            - í•„í„°, ì¸í„°ì…‰í„°, í”ŒëŸ¬ê·¸ì¸
- GOF ì˜ ë””ìì¸ íŒ¨í„´
    - ì •ì˜
        - **ì—¬ëŸ¬ê°œì˜ ìˆ˜ì‹  ê°ì²´ê°€ ë°œì‹ ëœ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜** ìˆë„ë¡, ìš”ì²­ì˜ ë°œì‹ ê³¼ ìˆ˜ì‹ ì„ ë¶„ë¦¬í•œë‹¤.
        - **ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ìˆ˜ì‹  ê°ì²´ë¥¼ ë§Œë‚  ë•Œ ê¹Œì§€ ì²´ì¸ì„ ë”°ë¼ ê³„ì† ì´ë™**í•œë‹¤.
- íŠ¹ì§•
    - ì—¬ëŸ¬ ê°œì˜ ìˆ˜ì‹ ê°ì²´(***í”„ë¡œì„¸ì„œ***)ê°€ ë™ì¼ ìš”ì²­ì„ â€œì°¨ë¡€ëŒ€ë¡œ ì²˜ë¦¬â€ í•œë‹¤
        - ë‹¤ìŒ í”„ë¡œì„¸ì„œë¡œ ìš”ì²­ì„ ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ **ì²´ì¸ì„ í˜•ì„±.**
        - ê° í”„ë¡œì„¸ì„œ ì—ì„œëŠ” ê°ìì˜ ì±…ì„ì„ ê°€ì§.
- êµ¬í˜„
    - **Handler, HandlerChain**
    - ë°©ë²•1  ***LinkedList ìë£Œ êµ¬ì¡°(***ğŸ¤”ìˆœì„œê°€ ìˆëŠ”ìë£Œêµ¬ì¡°***) í˜•íƒœë¡œ êµ¬í˜„*** ëœ HandlerChain â†’ linkedlist ë¥¼ íƒ€ê³  ì—°ì‡„ì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ë°©ì‹

        ```jsx
        public abstract class Handler {
            protected Handler successor = null;
            
            public void setSuccessor(Handler successor) {
                this.successor = successor;
            }
            
            public abstract void handle();
        }
        ```

        ```java
        public class HandlerChain {
        
            private Handler head = null;
            private Handler tail = null;
        
            public void addHandler(Handler handler) {
                handler.setSuccessor(null);
                if (head == null) {
                    head = handler;
                    tail = handler;
                    return;
                }
                tail.setSuccessor(handler);
                tail = handler;
            }
        
            public void handle() {
                if(head != null) {
                    head.handle();
                }
            }
        }
        ```

      Handler ì¶”ìƒ í´ë˜ìŠ¤ê°€ ìœ„ì™€ ê°™ì„ ê²½ìš°, ë°œìƒí•˜ëŠ” ë¬¸ì œì 

        - Handler í•˜ìœ„ í´ë˜ìŠ¤ì—ëŠ”
            - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ + **â€˜ë‹¤ìŒ handler ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¡œì§â€™** ì´ ì„ì„
                - **â€˜ë‹¤ìŒ handler ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¡œì§â€™ ì´  Handler í•˜ìœ„ í´ë˜ìŠ¤ë§ˆë‹¤ ë°˜ë³µ**
                - **ìƒˆë¡œìš´ Handler í•˜ìœ„ í´ë˜ìŠ¤ ì¶”ê°€ ì‹œ, í•´ë‹¹ ë¡œì§ì„ ë¹ íŠ¸ë¦¬ëŠ” ì‹¤ìˆ˜ ê°€ëŠ¥ì„± O (ëŠê²¨ë²„ë¦¼)**
    - ë°©ë²• 1 ì— ëŒ€í•œ í•´ê²°ì±… â†’ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
        - **ë°˜ë“œì‹œ ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ëŠ” ê³µí†µ ì½”ë“œ**ê°€ ë³´ì´ë©´ **í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤**í•˜ì~
            - ì¶”ìƒ í´ë˜ìŠ¤ì˜ final í•¨ìˆ˜ë¡œ ì •ì˜í•´ë‘ê³ , í•˜ìœ„ í´ë˜ìŠ¤ë§ˆë‹¤ ë‹¬ë¼ì ¸ì•¼ í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ì´ ë“¤ì–´ê°ˆ ë©”ì„œë“œëŠ” ë¶„ë¦¬

        ```jsx
        public abstract class Handler {
            protected Handler successor = null;
        
            public void setSuccessor(Handler successor) {
                this.successor = successor;
            }
        
            public final void handle() {
                boolean handled = doHandle();
                if(!handled && successor != null) {
                    successor.handle();
                }
            }
            
            protected abstract boolean doHandle(); // ë¹„ì¦ˆë‹ˆìŠ¤ì½”ë“œ
        }
        ```

    - ë°©ë²•2 : ***ë°°ì—´ í˜•íƒœë¡œ êµ¬í˜„***ëœ HandlerChain â†’ for ë¬¸ìœ¼ë¡œ ë°°ì—´ì„ Iterate í•˜ë©´ì„œ ìˆœì°¨ì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ë°©ì‹

        ```java
        public interface Handler {
            boolean handle(); // ë¹„ì¦ˆë‹ˆìŠ¤ì½”ë“œ
        }
        ```

        ```java
        public class HandlerChain {
            private List<Handler> handlers = new ArrayList<>();
        
            public void addHandler(Handler handler) {
                this.handlers.add(handler);
            }
        
            public void handle() {
                for (Handler handler : handlers) {
                    final boolean handled = handler.handle();
                    if(handled) {
                        break;
                    }
                }
            }
        }
        ```

- ì¢…ë¥˜
    - GoF ì˜ ë””ìì¸ íŒ¨í„´ì— ì •ì˜ëœ íŒ¨í„´
        - ì²´ì¸ ë‚´ì˜ **ì–´ë–¤ í”„ë¡œì„¸ì„œê°€ ìš”ì²­ì„ ì²˜ë¦¬ í•  ìˆ˜ ìˆìœ¼ë©´, ë” ì´ìƒ ë‹¤ìŒìœ¼ë¡œ ì „ë‹¬ X (ë©ˆì¶˜ë‹¤)**
    - ë³€í˜•ëœ íŒ¨í„´
        - ì²´ì¸ì„ íƒ€ê³  ìš”ì²­ì´ ì „ë‹¬ ë˜ëŠ” **ë„ì¤‘ì— ëë‚˜ì§€ ì•ŠìŒ.**
        - **ìš”ì²­ì€ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ì—ì„œ ì²˜ë¦¬ëœë‹¤. (ëê¹Œì§€ ê°„ë‹¤)**
        - ì½”ë“œ

            ```java
            public abstract class Handler {
            		// ...
                public final void handle() {
                    doHandle();
                    if(successor != null) { // doHandle() ì˜ ê²°ê³¼ì™€ ìƒê´€ì—†ì´ ë‹¤ìŒ í”„ë¡œì„¸ì„œë¥¼ í˜¸ì¶œ
                        successor.handle();
                    }
                }
                protected abstract boolean doHandle(); // ë¹„ì¦ˆë‹ˆìŠ¤ì½”ë“œ
            }
            
            ```


## ì˜ˆì‹œ ) ë¯¼ê° ë‹¨ì–´ í•„í„°ë§ êµ¬í˜„

- ìš”êµ¬ì‚¬í•­ : ë¯¼ê°í•œ ë‹¨ì–´ê°€ í¬í•¨ëœ ì»¨í…ì¸ ë¥¼ ì²˜ë¦¬ í•  ê²ƒ
    - ë°©ì‹ 2 ê°€ì§€ : **GoF ì˜ ë””ìì¸ íŒ¨í„´ ì •ì˜ ë°©ì‹ / ë³€í˜•ëœ ì±…ì„ ì—°ì‡„ íŒ¨í„´ ë°©ì‹**
        - ê²Œì‹œ ìì²´ ê¸ˆì§€ (ê²Œì‹œë¬¼ ìì²´ì˜ ìƒì„± ê¸ˆì§€)
            - ì¦‰, **ë¯¼ê° ë‹¨ì–´ ê°€ í¬í•¨ëœ** ì»¨í…ì¸ ì˜ ìƒì„± ìì²´ë¥¼ **ë„ì¤‘ì— ë§‰ëŠ” ê²ƒ**  â†’ GoF ì˜ ì±…ì„ ì—°ì‡„ íŒ¨í„´ ì •ì˜
        - ë¯¼ê°í•œ ë‹¨ì–´ë§Œ *** ë¡œ ëŒ€ì²´í•˜ëŠ” ê²ƒ
            - **ë¯¼ê° ë‹¨ì–´ê°€ í¬í•¨ë˜ì—ˆë”ë¼ë„**, ì»¨í…ì¸  ìƒì„±ê¹Œì§€ëŠ” **ëê¹Œì§€ í†µê³¼í•˜ëŠ” ê²ƒ** â†’ ë³€í˜•ëœ ì±…ì„ ì—°ì‡„ íŒ¨í„´
- ë°©ì‹ 1
    - ì±…ì„ ì—°ì‡„ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„

        ```java
        public class SensitiveWordFilterChain {
            private List<SensitiveWordFilter> filters = new ArrayList<>();
        
            public void addFilter(SexualWordFilter filter) {
                this.filters.add(filter);
            }
        
            public boolean filter(Content content) {
                for (SensitiveWordFilter filter : filters) {
                    if (!filter.doFilter(content)) {
                        return false;
                    }
                }
        
                return true;
            }
        }
        ```

      ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ ë§ì€ í´ë˜ìŠ¤ë“¤ í•„ìš”

      ![img.png](img.png)

    - if-else ë¬¸ì„ ì‚¬ìš©í•œ êµ¬í˜„

        ```java
        public class SimpleSensitiveWordFilter {
        
            public boolean filter(Content content) {
                if (!filterViolenceWord(content)) {
                    return false;
                }
                if (!filterSexualWord(content)) {
                    return false;
                }
        
                return true;
            }
        
            private boolean filterViolenceWord(final Content content) {
                return false;
            }
        
            private boolean filterSexualWord(final Content content) {
                return false;
            }
        }
        ```

    - if-else ë¬¸ ì´ ë” ì‹¬í”Œí•´ ë³´ì„. ì–¸ì œ ì±…ì„ ì—°ì‡„ íŒ¨í„´ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê±¸ê¹Œ?
        - ë””ìì¸ íŒ¨í„´ â†’
            - ì½”ë“œ ë³µì¡ë„ë¥¼ ë‚®ì¶¤
            - OCP ë¥¼ ê°€ëŠ¥ì¼€ í•¨ â†’ ì½”ë“œ í™•ì¥ì„± í–¥ìƒ
        - ë”°ë¼ì„œ, **ì½”ë“œê°€ ì»¤ì§€ê³  ë³µì¡í•´ì§€ê¸° ì‹œì‘í•˜ë©´ ì½”ë“œë¥¼ ë¶„í• í•˜ê¸° ì‹œì‘í•´ì•¼** í•œë‹¤
            - ì›ë˜ ì‹œì‘ì€ í•¨ìˆ˜ë¥¼ ì‘ê²Œ ìª¼ê°œê³  â€”> í´ë˜ìŠ¤ë¥¼ ë‚˜ëˆ„ë©´ì„œ ë””ìì¸íŒ¨í„´ì„ ì ìš©í•  ìˆ˜ ìˆê² ì ¸
        - Application í´ë˜ìŠ¤ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ëŠ” í”„ë ˆì„ì›Œí¬ ì½”ë“œë¼ê³  ìƒê°í•œë‹¤ë©´?
            - ë¯¼ê°ì„± ë‹¨ì–´ì˜ ë²”ì£¼ê°€ ì¶”ê°€ëœë‹¤ë©´ ? ì˜ˆë¥¼ë“¤ì–´ ì£¼ì‹ ì»¨í…ì¸ ëŠ” ì œì™¸ ì‹œí‚¨ë‹¤ëŠ” ì¡°ê±´ì´ ì¶”ê°€ëœë‹¤ë©´ ?
                - ì±…ì„ ì—°ì‡„ íŒ¨í„´
                    - 1) Filter í´ë˜ìŠ¤ë¥¼ ì¶”ê°€ë¡œ ì •ì˜
                    - 2) ì‚¬ìš©ìì˜ ì½”ë“œ(Application) ì—ì„œ Chain ì— ì¶”ê°€í•´ ì£¼ê¸°ë§Œ í•˜ë©´ ë¨
                    - ì¦‰, **í”„ë ˆì„ì›Œí¬ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥**


## ì„œë¸”ë¦¿ í•„í„°, Spring ì¸í„°ì…‰í„°, MyBatis í”ŒëŸ¬ê·¸ì¸

- ê³µí†µì 
    - ì›ë˜ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ë¨
    - ì¼ë¶€ ë©”ì„œë“œ í˜¸ì¶œì„ ê°€ë¡œì±„, í•´ë‹¹ ë©”ì„œë“œ í˜¸ì¶œ ì „ í›„ì— ëª‡ ê°€ì§€ ì½”ë“œë¥¼ ì‹¤í–‰

|  | ì„œë¸”ë¦¿ í•„í„° | Spring Interceptor | MyBatis í”ŒëŸ¬ê·¸ì¸ |
| --- | --- | --- | --- |
| Handler | Filter | HandlerInterceptor | Interceptor |
| HandlerChain | FilterChain | HandlerExecutionChain | InterceptorChain |
| ê°€ë¡œì±„ëŠ”ëŒ€ìƒ | ì„œë¸”ë¦¿ ìš”ì²­ / ì‘ë‹µ | Bean ì˜ ë©”ì„œë“œ | MyBatis í”„ë ˆì„ì›Œí¬ì— ì˜í•œ SQL ë¬¸ ì‹¤í–‰ê³¼ ê´€ë ¨ëœ ì¼ë¶€ ë©”ì„œë“œ |
- ì„œë¸”ë¦¿ í•„í„°
    - ì„œë¸”ë¦¿ ì‚¬ì–‘ì„ ì¤€ìˆ˜í•˜ëŠ” ì›¹ ì»¨í…Œì´ë„ˆì—ì„œ Filter, FilterChain ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ êµ¬í˜„ì²´ë¥¼ ì œê³µ
    - ì´ Filter, FilterChain ì€ ì–´ë–»ê²Œ ì±…ì„ì—°ì‡„ ì›ì¹™ì„ êµ¬í˜„í•˜ê³  ìˆë‚˜?
        - ì—¬ê¸°ì„œëŠ” ì¬ê·€ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„
            - code

                ```java
                public final class ApplicationFilterChain implements FilterChain {
                	
                		// í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ í•„í„° 
                    private int pos = 0;
                
                    //í•„í„° ìˆ˜
                    private int n = 0;
                
                    private Servlet servlet = null;
                    
                		private ApplicationFilterConfig[] filters = new ApplicationFilterConfig[0];
                		
                    @Override
                    public void doFilter(ServletRequest request, ServletResponse response) throws IOException, ServletException {
                
                        // Call the next filter if there is one
                        if (pos < n) {
                            ApplicationFilterConfig filterConfig = filters[pos++];
                            Filter filter = filterConfig.getFilter();
                           filter.doFilter(request, response, this); // Filterchain ì„ ì „ë‹¬
                
                				} else {
                					servlet.service(request, response); // filter ì²˜ë¦¬ í›„ servlet ì‹¤í–‰
                				}
                		}
                		.....
                ```

              ![img_1.png](img_1.png)

            - ì¬ê·€í•¨ìˆ˜ë¡œ, FilterChain ì˜ í•„í„°ë“¤ì„ ì—°ì‡„ì ìœ¼ë¡œ í˜¸ì¶œí•˜ê¸° ìœ„í•´ FilterChain ìì²´ë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ê³  ìˆìŒ

                ```java
                public ..implements Filter {
                
                	@Override
                	protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)
                			throws ServletException, IOException {
                				...
                				filterChain.doFilter(requestToUse, response);
                				..
                
                ```

            - ì–‘ë°©í–¥ìœ¼ë¡œ ê°€ë¡œì±„ê¸°ê°€ ê°€ëŠ¥í•¨. ì¦‰ , ServletRequest, ServletResponse ëª¨ë‘ ê°€ë¡œ ì±Œ ìˆ˜ ìˆìŒ
    - ì¶”ê°€í•  Filter í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , ì„¤ì •íŒŒì¼ë§Œ ìˆ˜ì •í•˜ë©´ ì ìš©ë¨.
- Spring interceptor
    - Spring MVC í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µí•˜ëŠ” ë¶€ë¶„.
    - ì¬ê·€ì ì´ì§€ ì•ŠìŒ â†’ ì¢€ ë” ëª…í™•í•¨
        - Filter ì™€ ë‹¬ë¦¬, Spring container ë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­, ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì²˜ë¦¬í•œ ì´í›„ì˜ ì‘ë‹µ ê°ê°ì— ëŒ€í•œ ê°€ë¡œì±„ê¸°ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì—ì„œ ìˆ˜í–‰í•¨.
            - preHandle , postHandle ì´ ë‘ê°œì˜ ë©”ì„œë“œë¡œ, ê°€ë¡œì±Œ ë©”ì„œë“œì˜ ì•ë’¤ì— ì‹¤í–‰í•  ì½”ë“œë¥¼ êµ¬í˜„í•¨
    - code

        ```java
        public class HandlerExecutionChain {
        		/**
        	 * Apply preHandle methods of registered interceptors.
        	 * @return {@code true} if the execution chain should proceed with the
        	 * next interceptor or the handler itself. Else, DispatcherServlet assumes
        	 * that this interceptor has already dealt with the response itself.
        	 */
        	boolean applyPreHandle(HttpServletRequest request, HttpServletResponse response) throws Exception {
        		for (int i = 0; i < this.interceptorList.size(); i++) {
        			HandlerInterceptor interceptor = this.interceptorList.get(i);
        			if (!interceptor.preHandle(request, response, this.handler)) {
        				triggerAfterCompletion(request, response, null);
        				return false;
        			}
        			this.interceptorIndex = i;
        		}
        		return true;
        	}
        
        	/**
        	 * Apply postHandle methods of registered interceptors.
        	 */
        	void applyPostHandle(HttpServletRequest request, HttpServletResponse response, @Nullable ModelAndView mv)
        			throws Exception {
        
        		for (int i = this.interceptorList.size() - 1; i >= 0; i--) {
        			HandlerInterceptor interceptor = this.interceptorList.get(i);
        			interceptor.postHandle(request, response, this.handler, mv);
        		}
        	}
        	....
        ```


- Mybatis í”ŒëŸ¬ê·¸ì¸
    - ì¤‘ì²© ë™ì  í”„ë¡œì‹œë¥¼ í†µí•´, ê°€ë¡œì±Œ ë©”ì„œë“œ ì•ë’¤ì— ì½”ë“œë¥¼ ì¶”ê°€
    - ì½”ë“œ

        ```java
        @Intercepts({
        	@Signature(type = StatementHandler.class, method = "query", 
        		args = {Statement.class, ResultHandler.class}),
        	@Signature(type = StatementHandler.class, method = "update", 
        		args = {Statement.class, ResultHandler.class}),	
        	@Signature(type = StatementHandler.class, method = "batch", 
        		args = {Statement.class, ResultHandler.class})})
        public class SqlCostTimeInterceptor implements Interceptor {
        	private static Logger logger = LoggerFactory.getLogger(SqlCostTimeInterceptor.class);
        	
        	@Override
        	public Object intercept(Invocation invocation) throws Throwable {
        		Object target = invocation.getTarget();
        		long startTime = System.currentTimeMillis();
        		StatementHandler statementHandler = (StatementHandler) target;
        		
        		try {
        			return invocation.proceed();
        		} finally {
        			long costTime = System.currentTimeMillis() - startTime;
        			BoundSql boundSql = statementHandler.getBoundSql();
        			String sql = boundSql.getSql();
        			logger.info("SQL : [{}] Time [{} ms]", sql, costTime);
        			}
        		}
        	@Override
        	public Object plugin(Object target) {
        		return Plugin.wrap(target, this);
        	}
        	
        	@Override
        	public void setProperties(Properties properties) {
        		System.out.println("Setup Properties:" + properties);
        		}
        	}
        ```

    - @Intercepts ì–´ë…¸í…Œì´ì…˜  : ê°€ë¡œì±„ë ¤ëŠ” ëŒ€ìƒ(ë©”ì„œë“œ)ì„ ëª…í™•í•˜ê²Œ í‘œì‹œí•˜ëŠ” ì—­í• 
        - ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ ê°€ë¡œì±„ê³  ì‹¶ìœ¼ë©´, @Signature ì–´ë…¸í…Œì´ì…˜ ì¤‘ì²©ì´ ê°€ëŠ¥í•˜ë‹ˆ ìœ„ì™€ ê°™ì´ í•˜ë©´ ë¨.
        - type : ê°€ë¡œì±Œ í´ë˜ìŠ¤
        - method : ê°€ë¡œì±Œ ë©”ì„œë“œ ì´ë¦„
        - args : í•´ë‹¹ ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜
    - ë™ì‘
        - ìµœ í•˜ìœ„ì—ì„œ Executor í´ë˜ìŠ¤ë¥¼ í†µí•´ SQL ë¬¸ì„ ì‹¤í–‰.
            - Executro ëŠ” StatementHandler,. ParameterHandler, ResultSetHandler ê°ì²´ë¥¼ ìƒì„±
            - ì´í›„, ParameterHandler í´ë˜ìŠ¤ë¡œ SQL ì˜ placeholder ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •í•œ ë‹¤ìŒ, StatementHandler í´ë˜ìŠ¤ë¡œ SQL ë¬¸ì„ ì‹¤í–‰.
            - ë§ˆì§€ë§‰ìœ¼ë¡œ ResultSetHandler í´ë˜ìŠ¤ë¡œ, ì‹¤í–‰ ê²°ê³¼ë¥¼ ìº¡ìŠí™”.
        - ë”°ë¼ì„œ Executor, ParameterHandler, ResultSetHandler, StatementHandler í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë“¤ì„ ê°€ë¡œì±„ë©´, SQL ì „ì²´ ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤ì˜ ê° ë‹¨ê³„ë¥¼ ê°€ë¡œì±Œ ìˆ˜ ìˆë‹¤.

# ìƒíƒœíŒ¨í„´

- ë³µí•©ì²´ íŒ¨í„´ê³¼ ë¹„ìŠ·
- ìƒíƒœ ë¨¸ì‹  êµ¬í˜„ì— ë§ì´ ì‚¬ìš©
    - ìƒíƒœ ë¨¸ì‹  êµ¬í˜„ ë°©ë²•
        - ìƒíƒœ íŒ¨í„´
        - ë¶„ê¸° íŒë‹¨ ë°©ì‹
        - í…Œì´ë¸” ì¡°íšŒ ë°©ì‹
- FSM(Finite State Machine) ìœ í•œ ìƒíƒœ ë¨¸ì‹ 
    - ìƒíƒœ ë¨¸ì‹  êµ¬ì„±ìš”ì†Œ
        - ìƒíƒœ
            - ex) ì—˜ë¦¬ìŠ¤ì˜ í‚¤ê°€ 20cm ê°€ ë˜ì—ˆìŒ
        - ì´ë²¤íŠ¸
            - ì „í™˜ ì¡°ê±´.
            - ìƒíƒœ ì „ì´, ë™ì‘ ì‹¤í–‰ì„ ì´‰ë°œ
                - ë™ì‘ì€ í•„ìˆ˜ê°€ ì•„ë‹˜. ì´ë²¤íŠ¸ë¡œ ì¸í•´ ìƒíƒœ ì „ì´ë§Œ í•  ìˆ˜ë„.
            - ex) ì—˜ë¦¬ìŠ¤ê°€ ì¼€ì´í¬ë¥¼ ë¨¹ìŒ
        - ë™ì‘
            - ex) ì—˜ë¦¬ìŠ¤ê°€ ë¬¸ì„ ì—´ ìˆ˜ ìˆëŠ” ë™ì‘ì„ í•  ìˆ˜ ìˆê²Œ ë¨
- ë¶„ê¸° íŒë‹¨ ë°©ì‹
    - ì½”ë“œê°€ ë„ˆë¬´ ë³µì¡í•¨
    - ì¼ë¶€ ìƒíƒœ ì „ì´ë¥¼ ë†“ì¹˜ê±°ë‚˜, ì˜ëª» ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

    ```java
    public enum State {
        SMALL(0),
        SUPER(1),
        FIRE(2),
        CAPE(3),
        ;
    
        private int value;
    
        State(final int value) {
            this.value = value;
        }
    
        public int getValue() {
            return value;
        }
    }
    //===
    public class SwitchMarioStateMachine {
        private int score;
        private State currentState;
    
        public SwitchMarioStateMachine() {
            this.score = 0;
            this.currentState = State.SMALL;
        }
    
        public void obtainMushRoom() {
            if (State.SMALL.equals(currentState)) {
                this.currentState = State.SUPER;
                this.score += 100;
            }
        }
    
        public void obtainCape() {
            if (State.SMALL.equals(this.currentState) || State.SUPER.equals(this.currentState)) {
                this.currentState = State.CAPE;
                this.score += 200;
            }
        }
    
        public void obtainFireFlower() {
            if (State.SMALL.equals(this.currentState) || State.SUPER.equals(this.currentState)) {
                this.currentState = State.FIRE;
                this.score += 300;
            }
        }
    
        public void meetMonster() {
            if (State.SUPER.equals(this.currentState)) {
                this.currentState = State.SMALL;
                this.score -= 100;
                return;
            }
            if (State.CAPE.equals(this.currentState)) {
                this.currentState = State.SMALL;
                this.score -= 200;
                return;
            }
            if (State.FIRE.equals(this.currentState)) {
                this.currentState = State.SMALL;
                this.score -= 300;
                return;
            }
        }
    
        public int getScore() {
            return score;
        }
    
        public State getCurrentState() {
            return currentState;
        }
    }
    ```
